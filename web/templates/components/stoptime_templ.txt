<form hx-put=\"/time/stop\" hx-target=\"body\" hx-disabled-elt=\"input, button\"><table><tbody><tr><td><label for=\"work-category\">Selected work category:</label></td><td>
 <input type=\"hidden\" name=\"work-category\" value=\"
\"></td></tr><tr><td>Time spent:</td><td><code id=\"time-elapsed\">00:00:00</code><code>(hh:mm:ss)</code></td></tr><tr><td colspan=\"2\" align=\"right\"><button type=\"submit\" id=\"start-button\">Stop tracking time</button></td></tr></tbody></table><input type=\"hidden\" id=\"time-start\" name=\"start\" value=\"
\"> <input type=\"hidden\" id=\"time-input\" name=\"seconds\">
<script>\n        const start = new Date(JSON.parse(document.getElementById('time').textContent));\n\n        let interval = setInterval(() => {\n            elapsedTime = new Date(new Date() - start);\n            formatted = elapsedTime.toISOString().substr(11, 8);\n            if (formatted.match(/^[0-9]{2}:[0-9]{2}:[0-9]{2}$/)) {\n                document.getElementById('time-elapsed').textContent = formatted;\n                document.getElementById('time-input').value = elapsedTime.getSeconds();\n            }\n        }, 1000);\n\n        </script></form>
